Only in gtkgreet-0.5.fixed/: build
diff -ru gtkgreet-0.5/gtkgreet/actions.c gtkgreet-0.5.fixed/gtkgreet/actions.c
--- gtkgreet-0.5/gtkgreet/actions.c	2020-04-01 23:18:58.000000000 +0300
+++ gtkgreet-0.5.fixed/gtkgreet/actions.c	2020-04-04 13:13:30.502273317 +0300
@@ -10,6 +10,8 @@
 #include "gtkgreet.h"
 #include "window.h"
 
+extern struct GtkGreet *gtkgreet;
+
 static void handle_response(struct response resp, int start_req) {
     switch (resp.response_type) {
         case response_type_success: {
diff -ru gtkgreet-0.5/gtkgreet/config.c gtkgreet-0.5.fixed/gtkgreet/config.c
--- gtkgreet-0.5/gtkgreet/config.c	2020-04-01 23:18:58.000000000 +0300
+++ gtkgreet-0.5.fixed/gtkgreet/config.c	2020-04-04 13:13:49.099231775 +0300
@@ -6,6 +6,8 @@
 #include "gtkgreet.h"
 #include "config.h"
 
+extern struct GtkGreet *gtkgreet;
+
 int config_update_command_selector(GtkWidget *combobox) {
     int entries = 0;
     if (gtkgreet->command != NULL) {
@@ -32,4 +34,4 @@
 
     fclose(fp);
     return entries;
-}
\ No newline at end of file
+}
diff -ru gtkgreet-0.5/gtkgreet/gtkgreet.c gtkgreet-0.5.fixed/gtkgreet/gtkgreet.c
--- gtkgreet-0.5/gtkgreet/gtkgreet.c	2020-04-01 23:18:58.000000000 +0300
+++ gtkgreet-0.5.fixed/gtkgreet/gtkgreet.c	2020-04-04 13:14:12.631179206 +0300
@@ -5,6 +5,8 @@
 #include "window.h"
 #include "gtkgreet.h"
 
+extern struct GtkGreet *gtkgreet;
+
 struct Window* gtkgreet_window_by_widget(struct GtkGreet *gtkgreet, GtkWidget *window) {
     for (guint idx = 0; idx < gtkgreet->windows->len; idx++) {
         struct Window *ctx = g_array_index(gtkgreet->windows, struct Window*, idx);
@@ -100,4 +102,4 @@
         gtkgreet->draw_clock_source = 0;
     }
     free(gtkgreet);
-}
\ No newline at end of file
+}
diff -ru gtkgreet-0.5/gtkgreet/gtkgreet.h gtkgreet-0.5.fixed/gtkgreet/gtkgreet.h
--- gtkgreet-0.5/gtkgreet/gtkgreet.h	2020-04-01 23:18:58.000000000 +0300
+++ gtkgreet-0.5.fixed/gtkgreet/gtkgreet.h	2020-04-04 13:12:03.678465784 +0300
@@ -35,8 +35,6 @@
     char time[8];
 };
 
-struct GtkGreet *gtkgreet;
-
 struct Window* gtkgreet_window_by_widget(struct GtkGreet *gtkgreet, GtkWidget *window);
 struct Window* gtkgreet_window_by_monitor(struct GtkGreet *gtkgreet, GdkMonitor *monitor);
 void gtkgreet_remove_window_by_widget(struct GtkGreet *gtkgreet, GtkWidget *widget);
@@ -47,4 +45,4 @@
 void gtkgreet_activate(struct GtkGreet *gtkgreet);
 void gtkgreet_destroy(struct GtkGreet *gtkgreet);
 
-#endif
\ No newline at end of file
+#endif
diff -ru gtkgreet-0.5/gtkgreet/main.c gtkgreet-0.5.fixed/gtkgreet/main.c
--- gtkgreet-0.5/gtkgreet/main.c	2020-04-01 23:18:58.000000000 +0300
+++ gtkgreet-0.5.fixed/gtkgreet/main.c	2020-04-04 13:15:46.806965567 +0300
@@ -6,6 +6,8 @@
 #include "window.h"
 #include "gtkgreet.h"
 
+struct GtkGreet *gtkgreet;
+
 static char* command = NULL;
 
 #ifdef LAYER_SHELL
diff -ru gtkgreet-0.5/gtkgreet/window.c gtkgreet-0.5.fixed/gtkgreet/window.c
--- gtkgreet-0.5/gtkgreet/window.c	2020-04-01 23:18:58.000000000 +0300
+++ gtkgreet-0.5.fixed/gtkgreet/window.c	2020-04-04 13:13:11.001316679 +0300
@@ -11,6 +11,8 @@
 #include "actions.h"
 #include "config.h"
 
+extern struct GtkGreet *gtkgreet;
+
 static void window_set_focus(struct Window *win, struct Window *old);
 
 #ifdef LAYER_SHELL
